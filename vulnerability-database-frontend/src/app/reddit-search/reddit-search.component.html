<div class = "outercontainer">
  <div class="searchcontainer">
    <p class = "title">Reddit Search</p>

    <p>This page allows you to see Reddit posts filtered for Android/Pixel CVE related posts</p>
    <p>The dropdown has reccommended subreddits, select custom to if you want to search another subreddit.</p>
    <!--create a dropdown where if the value the user clicks is custom, it switches to an input you can type in-->
      <input type="text"  [(ngModel)]="keyword" (keyup.enter)= "search()" placeholder="Enter keyword">
      <select [(ngModel)]="subreddit">
        <option *ngFor="let subreddit of subreddits" [value]="subreddit">{{ subreddit }}</option>
      </select>
      <input type="text" [(ngModel)]="customSubreddit" placeholder="Enter custom subreddit" (keyup.enter)= "search()" *ngIf="subreddit === 'Custom'">
      <button (click)="search()">Search</button>
  </div>
    <!--populate the results into a container seperated by an hr-->
    <div *ngIf="searchResults" class = "container">
      <div *ngIf ="searchResults.length > 0; else noResults">
        <div *ngFor="let result of searchResults">

          <p>{{ result.data.title }}</p>
          <a href="https://www.reddit.com{{ result.data.permalink }}" target="_blank">https://www.reddit.com{{result.data.permalink}}</a>
          <hr>
        </div>
      </div>
      <ng-template #noResults>
        <div>
          Could not find any results related to Android CVEs with the keyword or in the subreddit
          <p>NOTE: This page only grabs the first page of a Reddit search result sorted by new and filters out
            anything not related to an Android or Pixel CVE. If you have trouble seeing any posts,
            try searching a specific subreddit or use a more specfic search term.
          </p>
        </div>
      </ng-template>
    </div>

</div>
  